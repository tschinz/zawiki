
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Launch &#8212; Zawiki</title>
    
  <link rel="stylesheet" href="../../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/default.js"></script>
    <script src="../../_static/wavedrom.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Lidar Driver" href="lidar-driver.html" />
    <link rel="prev" title="Installation" href="install.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    <a class="navbar-brand" href="../../index.html">
    
      <img src="../../_static/logo.svg" class="logo" alt="logo" />
    
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="../../os/index.html">OS</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../tools/index.html">Tools</a>
        </li>
        
        <li class="nav-item active">
            <a class="nav-link" href="../index.html">Programming</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../hw/index.html">Hardware</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../writing/index.html">Writing</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../multimedia/index.html">Multimedia</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../security/index.html">Security</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../about/index.html">About</a>
        </li>
        
        
        <li class="nav-item">
            <a class="nav-link nav-external" href="https://github.com/tschinz/config">Config repo<i class="fas fa-external-link-alt"></i></a>
        </li>
        
      </ul>


      <form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Don't panic, search" aria-label="Don't panic, search" autocomplete="off" >
</form>
      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/tschinz/zawiki" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
          <li class="nav-item">
            <a class="nav-link" href="https://twitter.com/tschinz" target="_blank" rel="noopener">
              <span><i class="fab fa-twitter-square"></i></span>
            </a>
          </li>
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar"><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

    <div class="bd-toc-item active">
    
  
    <ul class="nav bd-sidenav">
        
        
        
        
        
        
          
            
                <li class="">
                    <a href="../general/index.html">General</a>
                </li>
            
          
            
                <li class="">
                    <a href="../ahk/index.html">AHK</a>
                </li>
            
          
            
                <li class="">
                    <a href="../c_cpp/index.html">C / C++</a>
                </li>
            
          
            
                <li class="">
                    <a href="../licenses/index.html">Licenses</a>
                </li>
            
          
            
                <li class="">
                    <a href="../make/index.html">Make</a>
                </li>
            
          
            
                <li class="">
                    <a href="../python/index.html">Python</a>
                </li>
            
          
            
                <li class="">
                    <a href="../regex/index.html">RegEx</a>
                </li>
            
          
            
  
                <li class="active">
                    <a href="index.html">ROS</a>
                    <ul>
                    
                        <li class="">
                            <a href="basics.html">Basics</a>
                        </li>
                    
                        <li class="">
                            <a href="books-summary.html">Books summary</a>
                        </li>
                    
                        <li class="">
                            <a href="catkin_tools.html">Catkin Tools</a>
                        </li>
                    
                        <li class="">
                            <a href="commands.html">Commandline Commands</a>
                        </li>
                    
                        <li class="">
                            <a href="install.html">Installation</a>
                        </li>
                    
                        <li class="active">
                            <a href="">Launch</a>
                        </li>
                    
                        <li class="">
                            <a href="lidar-driver.html">Lidar Driver</a>
                        </li>
                    
                        <li class="">
                            <a href="packages.html">Packages</a>
                        </li>
                    
                        <li class="">
                            <a href="packages-ext.html">External Packages and Nodes</a>
                        </li>
                    
                        <li class="">
                            <a href="rviz.html">RViz</a>
                        </li>
                    
                        <li class="">
                            <a href="tf2.html">Transform Frames</a>
                        </li>
                    
                    </ul>
                </li>
            
          
            
                <li class="">
                    <a href="../scala/index.html">Scala</a>
                </li>
            
          
            
                <li class="">
                    <a href="../spinal/index.html">Spinal HDL</a>
                </li>
            
          
            
                <li class="">
                    <a href="../swift/index.html">Swift</a>
                </li>
            
          
            
                <li class="">
                    <a href="../tcl_tk_do/index.html">Tcl-Tk</a>
                </li>
            
          
            
                <li class="">
                    <a href="../vhdl/index.html">VHDL</a>
                </li>
            
          
        
        
        
        
        
        
        
        
        
        
        
        
      </ul>
  
  </nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#launcher" class="nav-link">Launcher</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#launch-file" class="nav-link">Launch file</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h4">
            <a href="#arguments" class="nav-link">Arguments</a>
        </li>
    
        <li class="nav-item toc-entry toc-h4">
            <a href="#including-other-launch-files" class="nav-link">Including other launch files</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#create-a-launcher-in-a-new-package" class="nav-link">Create a launcher in a new package</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#include-another-launcher-inside-this-launcher" class="nav-link">Include another launcher inside this launcher</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#parameters-in-launcher" class="nav-link">Parameters in launcher</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h4">
            <a href="#get-the-value-of-a-parameter-at-run-time" class="nav-link">Get the value of a parameter at run time</a>
        </li>
    
        <li class="nav-item toc-entry toc-h4">
            <a href="#public-vs-private-parameters" class="nav-link">Public vs Private parameters</a>
        </li>
    
            </ul>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#rviz-configuration" class="nav-link">Rviz configuration</a>
        </li>
    
    </ul>
</nav>



<div class="tocsection editthispage">
    <a href="https://github.com/tschinz/zawiki/edit/master/source/programming/ros/launch.rst">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="launch">
<h1>Launch<a class="headerlink" href="#launch" title="Permalink to this headline">¶</a></h1>
<div class="section" id="launcher">
<h2>Launcher<a class="headerlink" href="#launcher" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>launch os a tool for launchine multiple nodes (as well as setting parameters)</p></li>
<li><p>Are written in XM as <code class="docutils literal notranslate"><span class="pre">*.launch</span></code> files</p></li>
<li><p>If not yet running, launch atuomatically stars a roscore</p></li>
</ul>
<p>Browse to the folder and start a launch file with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>roslaunch &lt;file_name&gt;.launch
</pre></div>
</div>
<p>Start a launch file from a package with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>roslaunch &lt;package_name&gt; &lt;file_name&gt;.launch
</pre></div>
</div>
<div class="section" id="launch-file">
<h3>Launch file<a class="headerlink" href="#launch-file" title="Permalink to this headline">¶</a></h3>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">talker_listerner.launch</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
<span class="nt">&lt;node</span> <span class="na">name=</span><span class="s">&quot;listener&quot;</span> <span class="na">pkg=</span><span class="s">&quot;roscpp_tutorials&quot;</span> <span class="na">type=</span><span class="s">&quot;listener&quot;</span> <span class="na">output=</span><span class="s">&quot;screen&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;node</span> <span class="na">name=</span><span class="s">&quot;talker&quot;</span> <span class="na">pkg=</span><span class="s">&quot;roscpp_tutorials&quot;</span> <span class="na">type=</span><span class="s">&quot;talker&quot;</span> <span class="na">output=</span><span class="s">&quot;screen&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
</div>
<p>launch: Root element of the launch file</p>
<ul class="simple">
<li><p><strong>node</strong>: Each <code class="docutils literal notranslate"><span class="pre">&lt;node&gt;</span></code> tag specifies a node to be launched</p></li>
<li><p><strong>name</strong>: Name of the node (free to choose)</p></li>
<li><p><strong>pkg</strong>: Package containing the node</p></li>
<li><p><strong>type</strong>: Type of the node, there must be a corresponding executable with the same name</p></li>
<li><p><strong>output</strong>: Specifies where to output log messages (screen: console, log: log file)</p></li>
</ul>
<p>More Info</p>
<ul class="simple">
<li><p><a class="reference external" href="http://wiki.ros.org/roslaunch/XML">http://wiki.ros.org/roslaunch/XML</a></p></li>
<li><p><a class="reference external" href="http://wiki.ros.org/roslaunch/Tutorials/Roslaunch%20tips%20for%20larger%20projects">http://wiki.ros.org/roslaunch/Tutorials/Roslaunch%20tips%20for%20larger%20projects</a></p></li>
</ul>
<div class="section" id="arguments">
<h4>Arguments<a class="headerlink" href="#arguments" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p>Create re-usable launch files with <code class="docutils literal notranslate"><span class="pre">&lt;arg&gt;</span></code> tag, which works like a parameter (default optional)</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;arg_name&quot;</span> <span class="na">default=</span><span class="s">&quot;default_value&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
</li>
<li><p>Use arguments in launch file with</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span>$(arg arg_name)
</pre></div>
</div>
</li>
<li><p>When launching, arguments can be set with</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span>roslaunch launchf_file.launch arg_name:value
</pre></div>
</div>
</li>
</ul>
<p>Example:</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">range_world.launch</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
  <span class="nt">&lt;launch&gt;</span>
    <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;use_sim_time&quot;</span> <span class="na">default=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;world&quot;</span> <span class="na">default=</span><span class="s">&quot;gazebo_ros_range&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;debug&quot;</span> <span class="na">default=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;physics&quot;</span> <span class="na">default=</span><span class="s">&quot;ode&quot;</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;group</span> <span class="na">if=</span><span class="s">&quot;$(arg use_sim_time)&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;/use_sim_time&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/group&gt;</span>
    <span class="nt">&lt;include</span> <span class="na">file=</span><span class="s">&quot;$(find gazebo_ros) /launch/empty_world.launch&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;world_name&quot;</span> <span class="na">value=</span><span class="s">&quot;$(find gazebo_plugins)/ test/test_worlds/$(arg world).world&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;debug&quot;</span> <span class="na">value=</span><span class="s">&quot;$(arg debug)&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;physics&quot;</span> <span class="na">value=</span><span class="s">&quot;$(arg physics)&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/include&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
</div>
<p>More info
<a class="reference external" href="http://wiki.ros.org/roslaunch/XML/arg">http://wiki.ros.org/roslaunch/XML/arg</a></p>
</div>
<div class="section" id="including-other-launch-files">
<h4>Including other launch files<a class="headerlink" href="#including-other-launch-files" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p>Include other launch files with <code class="docutils literal notranslate"><span class="pre">&lt;include&gt;</span></code> tag to
organize large projects</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;include</span> <span class="na">file=</span><span class="s">&quot;package_name&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
</li>
<li><p>Find the system path to other packages with</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span>$(find package_name)
</pre></div>
</div>
</li>
<li><p>Pass arguments to the included file</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;arg_name&quot;</span> <span class="na">value=</span><span class="s">&quot;value&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">range_world.launch</span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="nt">&lt;launch&gt;</span>
  <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;use_sim_time&quot;</span> <span class="na">default=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;world&quot;</span> <span class="na">default=</span><span class="s">&quot;gazebo_ros_range&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;debug&quot;</span> <span class="na">default=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;physics&quot;</span> <span class="na">default=</span><span class="s">&quot;ode&quot;</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;group</span> <span class="na">if=</span><span class="s">&quot;$(arg use_sim_time)&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;/use_sim_time&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/group&gt;</span>

    <span class="nt">&lt;include</span> <span class="na">file=</span><span class="s">&quot;$(find gazebo_ros) /launch/empty_world.launch&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;world_name&quot;</span> <span class="na">value=</span><span class="s">&quot;$(find gazebo_plugins)/test/test_worlds/$(arg world).world&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;debug&quot;</span> <span class="na">value=</span><span class="s">&quot;$(arg debug)&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;physics&quot;</span> <span class="na">value=</span><span class="s">&quot;$(arg physics)&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/include&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
</div>
</li>
</ul>
<p>More info:
<a class="reference external" href="http://wiki.ros.org/roslaunch/XML/include">http://wiki.ros.org/roslaunch/XML/include</a></p>
</div>
</div>
<div class="section" id="create-a-launcher-in-a-new-package">
<h3>Create a launcher in a new package<a class="headerlink" href="#create-a-launcher-in-a-new-package" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>move to the folder of the package</p></li>
<li><p>run : <code class="docutils literal notranslate"><span class="pre">mkdir</span> <span class="pre">launch</span> <span class="pre">&amp;&amp;</span> <span class="pre">cd</span> <span class="pre">launch</span></code></p></li>
<li><p>run : <code class="docutils literal notranslate"><span class="pre">gedit</span> <span class="pre">&lt;LAUNCHER_NAME&gt;.launch</span></code></p></li>
<li><p>fill the launcher file, for example:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
  <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;&lt;PACKAGE1_NAME&gt;&quot;</span> <span class="na">type=</span><span class="s">&quot;&lt;NODE1_NAME&gt;&quot;</span> <span class="na">name=</span><span class="s">&quot;&lt;INSTANCE0&gt;&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;&lt;PACKAGE2_NAME&gt;&quot;</span> <span class="na">type=</span><span class="s">&quot;&lt;NODE2_NAME&gt;&quot;</span> <span class="na">name=</span><span class="s">&quot;&lt;INSTANCE1&gt;&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;&lt;PACKAGE2_NAME&gt;&quot;</span> <span class="na">type=</span><span class="s">&quot;&lt;NODE2_NAME&gt;&quot;</span> <span class="na">name=</span><span class="s">&quot;&lt;INSTANCE2&gt;&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;&lt;PACKAGE2_NAME&gt;&quot;</span> <span class="na">type=</span><span class="s">&quot;&lt;NODE2_NAME&gt;&quot;</span> <span class="na">name=</span><span class="s">&quot;&lt;INSTANCE3&gt;&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="include-another-launcher-inside-this-launcher">
<h3>Include another launcher inside this launcher<a class="headerlink" href="#include-another-launcher-inside-this-launcher" title="Permalink to this headline">¶</a></h3>
<p>Add the include directive :</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
  <span class="nt">&lt;include</span> <span class="na">file=</span><span class="s">&quot;$(find &lt;PKG_NAME&gt;)/launch/&lt;LAUNCHER_NAME&gt;.launch&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
<p>This is very useful to combine launcher together, or complete a first launcher :</p>
<ul class="simple">
<li><p>the first launcher is responsible to launch a driver</p></li>
<li><p>the second launcher that includes the first one launches also a graphical tool on top of that</p></li>
</ul>
<p>The advantage being that it is not necessary to copy paste all the code of the first launcher into the second  one to use them together.</p>
</div>
<div class="section" id="parameters-in-launcher">
<h3>Parameters in launcher<a class="headerlink" href="#parameters-in-launcher" title="Permalink to this headline">¶</a></h3>
<p>Parameters can be set in the launcher and get by the node at run time. This is a convenient way to avoid rebuilding the code each time it is necessary to change the value of a variable, for example a path to a file.</p>
<p>The syntax is the following one :</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;&lt;PARAM_NAME&gt;&quot;</span> <span class="na">type=</span><span class="s">&quot;&lt;TYPE&gt;&quot;</span> <span class="na">value=</span><span class="s">&quot;&lt;VALUE&gt;&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<div class="section" id="get-the-value-of-a-parameter-at-run-time">
<h4>Get the value of a parameter at run time<a class="headerlink" href="#get-the-value-of-a-parameter-at-run-time" title="Permalink to this headline">¶</a></h4>
<p>It can be used in the node at run time with this C++ code :</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ros</span><span class="o">::</span><span class="n">NodeHandle</span> <span class="n">nh</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">iniPath</span><span class="p">;</span>
<span class="n">nh</span><span class="p">.</span><span class="n">getParam</span><span class="p">(</span><span class="s">&quot;ini_path&quot;</span><span class="p">,</span> <span class="n">iniPath</span><span class="p">);</span>
</pre></div>
</div>
<p>The node handler gets the parameter called <em>ini_path</em> in the launcher and will store it in the variable <em>iniPath</em>. If the parameter is public, therefore accessible by all the nodes, this is sufficient to get its value. If the parameter is private to a node, then the node handler needs to know the name of the node :</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ros</span><span class="o">::</span><span class="n">NodeHandle</span> <span class="n">nh</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">iniName</span><span class="p">;</span>
<span class="n">nh</span><span class="p">.</span><span class="n">getParam</span><span class="p">(</span><span class="s">&quot;tof_driver_1/ini_name&quot;</span><span class="p">,</span> <span class="n">iniName</span><span class="p">);</span>
</pre></div>
</div>
<p>To get the name of the node at run time, it is possible to use this line :</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">nodeName</span> <span class="o">=</span> <span class="n">ros</span><span class="o">::</span><span class="n">this_node</span><span class="o">::</span><span class="n">getName</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="public-vs-private-parameters">
<h4>Public vs Private parameters<a class="headerlink" href="#public-vs-private-parameters" title="Permalink to this headline">¶</a></h4>
<p>Depending of where the parameter is declared in the launcher, the parameter will be either private to a node, or accessible by all the nodes. If the parameter is declared outside of a <code class="docutils literal notranslate"><span class="pre">&lt;node&gt;&lt;/node&gt;</span></code> tag, it is public and accessible to all the nodes. At the opposite, if the parameter is declared inside a <code class="docutils literal notranslate"><span class="pre">&lt;node&gt;&lt;/node&gt;</span></code> tag, it will only be accessible by the node, with the specific method described above.</p>
<p>In this example :</p>
<ul class="simple">
<li><p>The parameter <em>ini_path</em> is public and accessible by all the nodes only with its name.</p></li>
<li><p>The parameter <em>ini_name</em> is private to each node and is accessible with the name of the node and its name, concatenated together. This allows to declare two time the same parameter with different value, as long as they are declared inside different nodes.</p></li>
</ul>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
      <span class="c">&lt;!-- Public parameters for both nodes --&gt;</span>
      <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;ini_path&quot;</span> <span class="na">type=</span><span class="s">&quot;str&quot;</span>
             <span class="na">value=</span><span class="s">&quot;$(find ros_driver_for_multiple_tof_sensors)/launch/&quot;</span> <span class="nt">/&gt;</span>

      <span class="c">&lt;!-- Call the driver node for sensor 1 (IP = 192.168.0.105)--&gt;</span>
      <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;ros_driver_for_multiple_tof_sensors&quot;</span>
            <span class="na">type=</span><span class="s">&quot;ros_driver_multiple_sensors_node&quot;</span> <span class="na">name=</span><span class="s">&quot;tof_driver_1&quot;</span>
            <span class="na">args=</span><span class="s">&quot;&quot;</span> <span class="na">required=</span><span class="s">&quot;true&quot;</span> <span class="na">output=</span><span class="s">&quot;screen&quot;</span> <span class="nt">&gt;</span>

            <span class="c">&lt;!-- Private parameter for node 1 --&gt;</span>
            <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;ini_name&quot;</span> <span class="na">type=</span><span class="s">&quot;str&quot;</span> <span class="na">value=</span><span class="s">&quot;tof_sensor1.ini&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/node&gt;</span>

      <span class="c">&lt;!-- Call the driver node for sensor 2 (IP = 192.168.1.105)--&gt;</span>
      <span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;ros_driver_for_multiple_tof_sensors&quot;</span>
            <span class="na">type=</span><span class="s">&quot;ros_driver_multiple_sensors_node&quot;</span> <span class="na">name=</span><span class="s">&quot;tof_driver_2&quot;</span>
            <span class="na">args=</span><span class="s">&quot;&quot;</span> <span class="na">required=</span><span class="s">&quot;true&quot;</span> <span class="na">output=</span><span class="s">&quot;screen&quot;</span> <span class="nt">&gt;</span>

            <span class="c">&lt;!-- Private parameter for node 2 --&gt;</span>
            <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;ini_name&quot;</span> <span class="na">type=</span><span class="s">&quot;str&quot;</span> <span class="na">value=</span><span class="s">&quot;tof_sensor2.ini&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/node&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="rviz-configuration">
<h2>Rviz configuration<a class="headerlink" href="#rviz-configuration" title="Permalink to this headline">¶</a></h2>
<p>After setting up the display configuration in Rviz, you can save it with the tab <code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">-&gt;</span> <span class="pre">Save</span> <span class="pre">config</span> <span class="pre">as</span> <span class="pre">-&gt;</span> <span class="pre">...</span></code></p>
<p>Then you can call it directly in the launch file by adding :</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;node</span> <span class="na">pkg=</span><span class="s">&quot;rviz&quot;</span> <span class="na">type=</span><span class="s">&quot;rviz&quot;</span> <span class="na">name=</span><span class="s">&quot;rviz&quot;</span>
    <span class="na">args=</span><span class="s">&quot;-d &lt;PATH_TO_FILE&gt;/&lt;CONFIG_NAME&gt;.rviz&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>This will open Rviz with the saved configuration when the <em>launch</em> file is launched.</p>
</div>
</div>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

              </div>
              
              
          </main>
          

      </div>
    </div>

    
  <script src="../../_static/js/index.3da636dd464baa7582d2.js"></script>


    
    <!-- Google Analytics -->
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-20699788-1', 'auto');
      ga('set', 'anonymizeIp', true);
      ga('send', 'pageview');
    </script>
    <script async src='https://www.google-analytics.com/analytics.js'></script>
    <!-- End Google Analytics -->
    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2004-2020, tschinz.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.3.0.<br/>
    </p>
  </div>
</footer>
  </body>
</html>