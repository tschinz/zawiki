
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Execution Framework &#8212; Zawiki</title>
    
  <link rel="stylesheet" href="../../_static/css/index.d431a4ee1c1efae0e38bdfebc22debff.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/theme_overrides.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/copy_button.css" type="text/css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.30270b6e4c972e43c488.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/default.js"></script>
    <script src="../../_static/wavedrom.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Linkerscript" href="linkerscript.html" />
    <link rel="prev" title="C / C++" href="index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    
    <a class="navbar-brand" href="../../index.html">
      <img src="../../_static/logo.svg" class="logo" alt="logo">
    </a>
    
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="../../os/index.html">OS</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../tools/index.html">Tools</a>
        </li>
        
        <li class="nav-item active">
            <a class="nav-link" href="../index.html">Programming</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../hw/index.html">Hardware</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../writing/index.html">Writing</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../multimedia/index.html">Multimedia</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../security/index.html">Security</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../about/index.html">About</a>
        </li>
        
        
        <li class="nav-item">
            <a class="nav-link nav-external" href="https://github.com/tschinz/config">Config repo<i class="fas fa-external-link-alt"></i></a>
        </li>
        
      </ul>


      <form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Don't panic, search" aria-label="Don't panic, search" autocomplete="off" >
</form>
      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/tschinz/zawiki" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
          <li class="nav-item">
            <a class="nav-link" href="https://twitter.com/tschinz" target="_blank" rel="noopener">
              <span><i class="fab fa-twitter-square"></i></span>
            </a>
          </li>
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar">



<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

  <div class="bd-toc-item active">
  

  <ul class="nav bd-sidenav">
      
      
      
      
      
      
        
          
              <li class="">
                  <a href="../general/index.html">General</a>
              </li>
          
        
          
              <li class="">
                  <a href="../ahk/index.html">AHK</a>
              </li>
          
        
          

              <li class="active">
                  <a href="index.html">C / C++</a>
                  <ul>
                  
                      <li class="active">
                          <a href="">Execution Framework</a>
                      </li>
                  
                      <li class="">
                          <a href="linkerscript.html">Linkerscript</a>
                      </li>
                  
                      <li class="">
                          <a href="syntax.html">Syntax</a>
                      </li>
                  
                  </ul>
              </li>
          
        
          
              <li class="">
                  <a href="../licenses/index.html">Licenses</a>
              </li>
          
        
          
              <li class="">
                  <a href="../make/index.html">Make</a>
              </li>
          
        
          
              <li class="">
                  <a href="../python/index.html">Python</a>
              </li>
          
        
          
              <li class="">
                  <a href="../regex/index.html">RegEx</a>
              </li>
          
        
          
              <li class="">
                  <a href="../ros/index.html">ROS</a>
              </li>
          
        
          
              <li class="">
                  <a href="../scala/index.html">Scala</a>
              </li>
          
        
          
              <li class="">
                  <a href="../spinal/index.html">Spinal HDL</a>
              </li>
          
        
          
              <li class="">
                  <a href="../swift/index.html">Swift</a>
              </li>
          
        
          
              <li class="">
                  <a href="../tcl_tk_do/index.html">Tcl-Tk</a>
              </li>
          
        
          
              <li class="">
                  <a href="../vhdl/index.html">VHDL</a>
              </li>
          
        
      
      
      
      
      
      
      
      
      
      
      
      
    </ul>

</nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#overview" class="nav-link">Overview</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#isr" class="nav-link">ISR</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#time-manager" class="nav-link">Time Manager</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#event-queue" class="nav-link">Event Queue</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#data-queue" class="nav-link">Data Queue</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#reactive-entities" class="nav-link">Reactive Entities</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#mainloop-event-dispatcher" class="nav-link">MainLoop / Event Dispatcher</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#observer-pattern" class="nav-link">Observer Pattern</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#subject" class="nav-link">Subject</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#observer" class="nav-link">Observer</a>
        </li>
    
            </ul>
        </li>
    
    </ul>
</nav>



<div class="tocsection editthispage">
    <a href="https://github.com/tschinz/zawiki/edit/master/source/programming/c_cpp/executionframework.rst">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="execution-framework">
<h1>Execution Framework<a class="headerlink" href="#execution-framework" title="Permalink to this headline">¶</a></h1>
<p>Execution Framework is also called XF. XF are a collection of services that allow communication and execution of objects and of reactive entities containing state machines.
It is an abstraction layer which can be on top of an OS or of an HAL.</p>
<p>Provided services of an XF are:</p>
<ul class="simple">
<li><p>Software timers</p></li>
<li><p>Asynchronous inter object communication</p></li>
<li><p>Data buffers and queues</p></li>
<li><p>Memory management</p></li>
</ul>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="../../_images/xf.svg"><img alt="Execution Framework" src="../../_images/xf.svg" width="600px" /></a>
<p class="caption"><span class="caption-text">Execution Framework</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="isr">
<h3>ISR<a class="headerlink" href="#isr" title="Permalink to this headline">¶</a></h3>
<p>The ISR will generate different kind of events. The Tick timer events are essential because the whole system is based around the Tick. But other interrupts enables peripherals will generate different kind of events and place in the event queue or data queue e.g. UART.</p>
</div>
<div class="section" id="time-manager">
<h3>Time Manager<a class="headerlink" href="#time-manager" title="Permalink to this headline">¶</a></h3>
<p>The time manager allows generating timing events to place in the event queue. It allows an, depending on the hardware, unlimited amount of software timers.
The time manager holds all software timers in a FIFO. The timer which ends first is at the top of the fifo. Once a timer reaches zero a timer event is places in the event queue.</p>
</div>
<div class="section" id="event-queue">
<h3>Event Queue<a class="headerlink" href="#event-queue" title="Permalink to this headline">¶</a></h3>
<p>The event queue is a FIFO of all given event. An event can also hold some data if necessary.</p>
</div>
<div class="section" id="data-queue">
<h3>Data Queue<a class="headerlink" href="#data-queue" title="Permalink to this headline">¶</a></h3>
<p>With help of the data queue, the reactive entities can exchange data.</p>
</div>
<div class="section" id="reactive-entities">
<h3>Reactive Entities<a class="headerlink" href="#reactive-entities" title="Permalink to this headline">¶</a></h3>
<p>Reactive entities are nothing else than state machines. They are always in a certain state and are triggered to go into the next state by events. Depending on the hardware multiple state machines can run at the same time.</p>
</div>
<div class="section" id="mainloop-event-dispatcher">
<h3>MainLoop / Event Dispatcher<a class="headerlink" href="#mainloop-event-dispatcher" title="Permalink to this headline">¶</a></h3>
<p>The event dispatcher only reads the event at the top of the FIFO and calls all observers subscribed to that event type. Once an event is processed the next event will be read.</p>
</div>
</div>
<div class="section" id="observer-pattern">
<h2>Observer Pattern<a class="headerlink" href="#observer-pattern" title="Permalink to this headline">¶</a></h2>
<p>One way to exchange informations is via the Observer - Subject Pattern. The subject, maintains a list of its dependents, called observers, and notifies them automatically of any state changes, usually by calling their method <code class="docutils literal notranslate"><span class="pre">update</span></code>.</p>
<ul class="simple">
<li><p>All Observers are attached to the Subject</p></li>
<li><p>If something happens with the Subject his <code class="docutils literal notranslate"><span class="pre">_notify()</span></code> will be called</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">_notify()</span></code> will call the <code class="docutils literal notranslate"><span class="pre">update()</span></code> method of all attached Observers</p></li>
</ul>
<div class="section" id="subject">
<h3>Subject<a class="headerlink" href="#subject" title="Permalink to this headline">¶</a></h3>
<p>Multiple Observers can be attached to an Subject and get notified when something interesting happens.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">virtual</span> <span class="kt">void</span> <span class="nf">attach</span> <span class="p">(</span> <span class="n">Observer</span> <span class="o">*</span> <span class="n">pObserver</span> <span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">)</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span>
</pre></div>
</div>
<p>Informs the observer(s) that something of interest happened to  the Subject</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">virtual</span> <span class="kt">void</span> <span class="nf">_notify</span> <span class="p">(</span> <span class="kt">uint8_t</span> <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">)</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="observer">
<h3>Observer<a class="headerlink" href="#observer" title="Permalink to this headline">¶</a></h3>
<p>Informs the observer that something of interest happened to its Subject (called by the notify() method of the Subject)</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">virtual</span> <span class="kt">void</span> <span class="nf">update</span> <span class="p">(</span> <span class="n">Subject</span> <span class="o">*</span> <span class="n">pSubject</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">)</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span>
</pre></div>
</div>
</div>
</div>
</div>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

              </div>
              
              
          </main>
          

      </div>
    </div>

    
  <script src="../../_static/js/index.30270b6e4c972e43c488.js"></script>


    
    <!-- Google Analytics -->
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-20699788-1', 'auto');
      ga('set', 'anonymizeIp', true);
      ga('send', 'pageview');
    </script>
    <script async src='https://www.google-analytics.com/analytics.js'></script>
    <!-- End Google Analytics -->
    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2004-2020, tschinz.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.2.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>