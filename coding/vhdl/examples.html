

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Examples &mdash; Zawiki</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../_static/default.js"></script>
        <script type="text/javascript" src="../../_static/wavedrom.min.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="File" href="file.html" />
    <link rel="prev" title="Conversion" href="conversion.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Zawiki
          

          
            
            <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                v0.11-5-g7b647ed
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Operating Systems</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../os/linux/index.html">Linux</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../os/linux/commandline/index.html">Commandline</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/commandline/cheatsheet.html">Cheatsheet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/commandline/crontab.html">Crontab</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/commandline/dd.html">dd and ddfldd</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/commandline/general.html">General Shell Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/commandline/network.html">Network</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/commandline/rsync.html">RSync</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/commandline/ssh.html">SSH</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../os/linux/scripts/index.html">Scripts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/scripts/config_files.html">Config Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/scripts/general.html">Scripts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../os/linux/tools/index.html">Tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/tools/apache.html">Apache</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/tools/hw_sensors.html">Hardware Sensors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/tools/lets_encrypt.html">Let’s Encrypt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/tools/raid.html">Raid</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/tools/samba.html">Samba</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/tools/shairport.html">Shairport</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/tools/subsonic.html">Subsonic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/tools/systemd.html">Systemd</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/tools/vim.html">VIM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/tools/vnc.html">VNC Remote Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/tools/vpn.html">VPN Virtual Private Network</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../os/linux/ubuntu/index.html">Ubuntu</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/ubuntu/install.html">Installation and Config</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/ubuntu/intro.html">Introduction</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../os/linux/rpi/index.html">Raspberry Pi</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/rpi/runeaudio.html">Rune Audio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/rpi/setup.html">Setup Rpi</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../os/linux/filesystem/index.html">Filesystem</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/filesystem/files.html">Important Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../os/linux/filesystem/folders.html">Folders</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../os/mac/index.html">Mac</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../os/mac/geektool.html">Geektool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../os/mac/keyboard.html">Keyboard Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../os/mac/macport.html">Macport</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../os/win/index.html">Windows</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../os/win/firewall.html">Firewall</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../os/win/group_policies.html">Group Policies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../os/win/registry_location.html">Registry</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Useful Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/git/index.html">Git</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/git/commands.html">Git Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/git/flow.html">Git Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/git/general.html">Git General</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/git/gitignore.html">.gitignore</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/git/submodules.html">Git Submodules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/jupyter/index.html">Jupyter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/jupyter/common_functions.html">Common Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/jupyter/extensions.html">Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/jupyter/general.html">General</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/jupyter/install_plotly_dash.html">Plotly Dash</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/jupyter/installation.html">Installation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/pandoc/index.html">Pandoc</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/pandoc/intro.html">Pandoc</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Coding</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../ahk/index.html">AutoHotKey AHK</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../ahk/intro.html">Tips &amp; Tricks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ahk/key_definitions.html">Key Definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ahk/tips_tricks.html">Tips &amp; Tricks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../python/index.html">Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../python/docstring.html">Docstring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python/flake8.html">General</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python/general.html">Flake 8</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python/pip_general.html">PIP</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../regex/index.html">RegEx</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">VHDL</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="attributes.html">Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="conversion.html">Conversion</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="file.html">File</a></li>
<li class="toctree-l2"><a class="reference internal" href="intel_sdc.html">SDC Constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries.html">Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="syntax.html">Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="testbench.html">Testbench</a></li>
<li class="toctree-l2"><a class="reference internal" href="time.html">Time</a></li>
<li class="toctree-l2"><a class="reference internal" href="xilinx_ucf.html">Xilinx UCF Constraints</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tcl_do/index.html">Tcl-Tk</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tcl_do/intro.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tcl_do/examples.html">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tcl_do/syntex.html">Syntax</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ros/index.html">ROS - Robot Operating System</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../ros/intro.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ros/basics.html">Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ros/books-summary.html">Books summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ros/catkin_tools.html">Catkin Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ros/commands.html">Commandline Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ros/install.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ros/launch.html">Launch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ros/lidar-driver.html">Lidar Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ros/packages.html">Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ros/packages-ext.html">External Packages and Nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ros/rviz.html">RViz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ros/tf2.html">Transform Frames</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../licenses/index.html">Licenses</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../licenses/All_RIGHTS_RESERVED.html">All rights reserved</a></li>
<li class="toctree-l2"><a class="reference internal" href="../licenses/MIT.html">MIT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../licenses/WTFPL.html">WTFPL</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fileheaders.html">File Headers</a></li>
</ul>
<p class="caption"><span class="caption-text">Writing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../writing/latex/index.html">LaTeX</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../writing/latex/intro.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../writing/latex/install.html">Installation LaTeX</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../writing/rst/index.html">ReStructuredText</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../writing/rst/intro.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../writing/rst/cheatsheet.html">RST and Sphinx Cheatsheet</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../writing/emoji/index.html">Emoji</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../writing/emoji/all.html">All Emoji</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../writing/emoji/curated.html">Curated Emoji</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../writing/md/index.html">Markdown</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../writing/md/md_github.html">Github Markdown</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../writing/md/md_github.html#h1">H1</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Else</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../multimedia/index.html">Multimedia</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../multimedia/books/books.html">Book Review</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multimedia/jokes/programmer_jokes.html">Programmer Jokes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multimedia/quotes/quotes.html">Inspirational Quotes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multimedia/fonts/fonts.html">Fonts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multimedia/icons/icons.html">Icons</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multimedia/videos/resolutions.html">Resolutions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../security/gnupg.html">GnuPg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../security/password.html">Password</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../security/tor.html">Tor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../about/about.html">About</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/credits.html">Credits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/getting_started.html">How to use Sphinx Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/howtodocument.html">HACK this documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/license.html">License</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Zawiki</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">VHDL</a> &raquo;</li>
        
      <li>Examples</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/tschinz/zawiki/blob/mastersource/coding/vhdl/examples.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="examples">
<h1>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#blinker" id="id3">Blinker</a></p>
<ul>
<li><p><a class="reference internal" href="#settings" id="id4">Settings</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#bram" id="id5">BRAM</a></p>
<ul>
<li><p><a class="reference internal" href="#definition" id="id6">Definition</a></p>
<ul>
<li><p><a class="reference internal" href="#rom-definition" id="id7">ROM Definition</a></p></li>
<li><p><a class="reference internal" href="#ram-definition" id="id8">RAM Definition</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#initialisation" id="id9">Initialisation</a></p>
<ul>
<li><p><a class="reference internal" href="#mif-file" id="id10">MIF-File</a></p></li>
<li><p><a class="reference internal" href="#hex-file" id="id11">HEX-File</a></p>
<ul>
<li><p><a class="reference internal" href="#format" id="id12">Format</a></p></li>
<li><p><a class="reference internal" href="#example" id="id13">Example</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#binary-file" id="id14">Binary-File</a></p></li>
<li><p><a class="reference internal" href="#in-vhdl" id="id15">In VHDL</a></p></li>
<li><p><a class="reference internal" href="#syntesis-tool-limitation" id="id16">Syntesis Tool limitation</a></p>
<ul>
<li><p><a class="reference internal" href="#port-limitation" id="id17">Port limitation</a></p></li>
<li><p><a class="reference internal" href="#initialisation-limitation" id="id18">Initialisation limitation</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#debounce" id="id19">Debounce</a></p></li>
<li><p><a class="reference internal" href="#reset-input" id="id20">Reset Input</a></p></li>
</ul>
</div>
<div class="section" id="blinker">
<h2><a class="toc-backref" href="#id3">Blinker</a><a class="headerlink" href="#blinker" title="Permalink to this headline">¶</a></h2>
<p>Many time you want to implement a Led blinking at a given event. The problem is that the available signal is either tool long or (mostly) too short to be seen for a led. Therefore this bloc was created to let a led blink on an event of a signal.</p>
<div class="section" id="settings">
<h3><a class="toc-backref" href="#id4">Settings</a><a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Set your <strong>clockFrequency</strong> , according to that a blink of 500ms will be calculated.</p></li>
<li><p>Choose your <strong>mode</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">mode</span> <span class="pre">0</span></code>: rising edge reaction</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mode</span> <span class="pre">1</span></code>: falling edge reaction</p></li>
</ul>
</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Mode</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">(</span><span class="n">reactive</span> <span class="n">on</span> <span class="n">rising</span> <span class="n">edge</span><span class="p">)</span>
             <span class="n">___________________________________________</span>
 <span class="nb">input</span>  <span class="n">____</span><span class="o">/</span>
             <span class="n">___________________</span>
 <span class="n">output</span> <span class="n">____</span><span class="o">/</span>                   \<span class="n">_______________________</span>
 <span class="n">time</span>   <span class="mi">0</span><span class="n">s</span>                    <span class="mf">0.5</span><span class="n">s</span>                    <span class="mi">1</span><span class="n">s</span>

             <span class="n">_</span>
 <span class="nb">input</span>  <span class="n">____</span><span class="o">/</span> \<span class="n">_________________________________________</span>
             <span class="n">___________________</span>
 <span class="n">output</span> <span class="n">____</span><span class="o">/</span>                   \<span class="n">_______________________</span>
 <span class="n">time</span>   <span class="mi">0</span><span class="n">s</span>                    <span class="mf">0.5</span><span class="n">s</span>                    <span class="mi">1</span><span class="n">s</span>

<span class="n">Mode</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">(</span><span class="n">reactive</span> <span class="n">on</span> <span class="n">falling</span> <span class="n">edge</span><span class="p">)</span>
        <span class="n">_____</span>
 <span class="nb">input</span>       \<span class="n">__________________________________________</span>
               <span class="n">___________________</span>
 <span class="n">output</span> <span class="n">______</span><span class="o">/</span>                   \<span class="n">_____________________</span>
 <span class="n">time</span>   <span class="mi">0</span><span class="n">s</span>                    <span class="mf">0.5</span><span class="n">s</span>                    <span class="mi">1</span><span class="n">s</span>

             <span class="n">_</span>
 <span class="nb">input</span>  <span class="n">____</span><span class="o">/</span> \<span class="n">_________________________________________</span>
                <span class="n">___________________</span>
 <span class="n">output</span> <span class="n">______</span> <span class="o">/</span>                   \<span class="n">____________________</span>
 <span class="n">time</span>   <span class="mi">0</span><span class="n">s</span>                    <span class="mf">0.5</span><span class="n">s</span>                    <span class="mi">1</span><span class="n">s</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://github.com/tschinz/config/tree/master/scripts/vhdl/blink">config repo blink</a></p>
</div>
</div>
</div>
<div class="section" id="bram">
<h2><a class="toc-backref" href="#id5">BRAM</a><a class="headerlink" href="#bram" title="Permalink to this headline">¶</a></h2>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://github.com/tschinz/config/tree/master/scripts/vhdl/bram">config repo bram</a></p>
</div>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="../../_images/bram.svg"><img alt="../../_images/bram.svg" src="../../_images/bram.svg" width="200px" /></a>
<p class="caption"><span class="caption-text">BRAM</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>To generate RAM and ROM using the BRAM’s available in the FPGA, several methods can be used.</p>
<blockquote>
<div><ul class="simple">
<li><p>For Xilinx you can use the CoreGen Program and for Actel the Libero IDE</p></li>
<li><p>Write VHDL code which the synthesis tool can understand</p></li>
</ul>
</div></blockquote>
<p>The advantage of the second method is that it’s target independent, but however it depends on the functionalities of the Synthesis tool.</p>
<div class="section" id="definition">
<h3><a class="toc-backref" href="#id6">Definition</a><a class="headerlink" href="#definition" title="Permalink to this headline">¶</a></h3>
<div class="section" id="rom-definition">
<h4><a class="toc-backref" href="#id7">ROM Definition</a><a class="headerlink" href="#rom-definition" title="Permalink to this headline">¶</a></h4>
<p><strong>Single Port ROM with VHDL initialisation</strong></p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://github.com/tschinz/config/blob/master/scripts/vhdl/bram/rom.vhd">config repo rom.vhd</a></p>
</div>
</div>
<div class="section" id="ram-definition">
<h4><a class="toc-backref" href="#id8">RAM Definition</a><a class="headerlink" href="#ram-definition" title="Permalink to this headline">¶</a></h4>
<p><strong>Dual-Port RAM with synchronous Read (Read Through) with no initialisation</strong></p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://github.com/tschinz/config/blob/master/scripts/vhdl/bram/dp_ram_1.vhd">config repo dp_ram_1.vhd</a></p>
</div>
<p><strong>Generic Dual-Port RAM (Write First) with two clocks, enables and write enables and initialisation with a binary file</strong></p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://github.com/tschinz/config/blob/master/scripts/vhdl/bram/dp_ram_2.vhd">config repo dp_ram_2.vhd</a></p>
</div>
</div>
</div>
<div class="section" id="initialisation">
<h3><a class="toc-backref" href="#id9">Initialisation</a><a class="headerlink" href="#initialisation" title="Permalink to this headline">¶</a></h3>
<div class="section" id="mif-file">
<h4><a class="toc-backref" href="#id10">MIF-File</a><a class="headerlink" href="#mif-file" title="Permalink to this headline">¶</a></h4>
<p>An ASCII text file (with the extension <code class="docutils literal notranslate"><span class="pre">.mif</span></code>) that specifies the initial content of a memory block (CAM, RAM, or ROM), that is, the initial values for each address.</p>
<p>A MIF contains the initial values for each address in the memory. A separate file is required for each memory block. In a MIF, you are also required to specify the memory depth and width values. In addition, you can specify the radixes used to display and interpret addresses and data values.</p>
</div>
<div class="section" id="hex-file">
<h4><a class="toc-backref" href="#id11">HEX-File</a><a class="headerlink" href="#hex-file" title="Permalink to this headline">¶</a></h4>
<p>Intel HEX is a file format for conveying binary information for applications like programming microcontrollers, EPROMs, and other kinds of chips. It is one of the oldest file formats available for this purpose, having been in use since the 1970s.</p>
<div class="section" id="format">
<h5><a class="toc-backref" href="#id12">Format</a><a class="headerlink" href="#format" title="Permalink to this headline">¶</a></h5>
<p><strong>Start code</strong></p>
<p>The Start code exist only once per line at it’s beginning. The Start code is <code class="docutils literal notranslate"><span class="pre">:</span></code></p>
<p><strong>Byte count</strong></p>
<p>The Byte count indicates the number n of Raw Data bytes there are in the Data field.</p>
<p><strong>Address</strong></p>
<p>16bit Address of the Data. If more Address bits are needed see Record Type <code class="docutils literal notranslate"><span class="pre">04</span></code>.</p>
<p><strong>Record type</strong></p>
<p>There are six possible Record type:</p>
<ul>
<li><p><strong>00</strong>: data record, contains data and 16-bit address.</p></li>
<li><p><strong>01</strong>: End Of File record. Must occur exactly once per file in the last line of the file. The byte count is 00 and the data field is empty. Usually the address field is also 0000, in which case the complete line is <code class="docutils literal notranslate"><span class="pre">:00000001FF</span></code>. Originally the End Of File record could contain a start address for the program being loaded, e.g. :00AB2F0125 would cause a jump to address AB2F.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">:</span><span class="mi">00000001</span><span class="n">FF</span>

<span class="ow">or</span>

<span class="p">:</span><span class="mi">020000010000</span><span class="n">FD</span>
</pre></div>
</div>
</li>
<li><p><strong>02</strong>: Extended Segment Address Record, segment-base address (two hex digit pairs in big endian order). Used when 16 bits are not enough, identical to 80x86 real mode addressing. The address specified by the data field of the most recent 02 record is multiplied by 16 (shifted 4 bits left) and added to the subsequent 00 record addresses. This allows addressing of up to a megabyte of address space. The address field of this record has to be 0000, the byte count is 02 (the segment is 16-bit). The least significant hex digit of the segment address is always 0.</p></li>
<li><p><strong>03</strong>: Start Segment Address Record. For 80x86 processors, it specifies the initial content of the CS:IP registers. The address field is 0000, the byte count is 04, the first two bytes are the CS value, the latter two are the IP value.</p></li>
<li><p><strong>04</strong>: Extended Linear Address Record, allowing for fully 32 bit addressing (up to 4GiB). The address field is 0000, the byte count is 02. The two data bytes (two hex digit pairs in big endian order) represent the upper 16 bits of the 32 bit address for all subsequent 00 type records until the next 04 type record comes. If there is not a 04 type record, the upper 16 bits default to 0000. To get the absolute address for subsequent 00 type records, the address specified by the data field of the most recent 04 record is added to the 00 record addresses.</p></li>
<li><p><strong>05</strong>: Start Linear Address Record. The address field is 0000, the byte count is 04. The 4 data bytes represent the 32-bit value loaded into the EIP register of the 80386 and higher CPU.</p></li>
</ul>
<p><strong>Data</strong></p>
<p>Raw Data of n bytes (n = Bytecount) at the given address in Hexadecimal format.</p>
<p><strong>Checksum</strong></p>
<p>The Checksum is two hex digits - the least significant byte of the two’s complement of the sum of the values of all fields except fields 1 and 6 (Start code “:” byte and two hex digits of the Checksum).
It is calculated by adding together the hex-encoded bytes (hex digit pairs), then leaving only the least significant byte of the result, and making a 2’s complement (either by subtracting the byte from 0x100, or inverting it by XOR-ing with 0xFF and adding 0x01).</p>
</div>
<div class="section" id="example">
<h5><a class="toc-backref" href="#id13">Example</a><a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">:</span> <span class="mi">10</span> <span class="mi">0100</span> <span class="mi">00</span> <span class="mi">214601360121470136007</span><span class="n">EFE09D21901</span> <span class="mi">40</span>
<span class="p">:</span> <span class="mi">10</span> <span class="mi">0110</span> <span class="mi">00</span> <span class="mi">2146017</span><span class="n">EB7C20001FF5F160021480119</span> <span class="mi">88</span>
<span class="p">:</span> <span class="mi">10</span> <span class="mi">0120</span> <span class="mi">00</span> <span class="mf">194E79234623965778239</span><span class="n">EDA3F01B2CA</span> <span class="n">A7</span>
<span class="p">:</span> <span class="mi">10</span> <span class="mi">0130</span> <span class="mi">00</span> <span class="mi">3</span><span class="n">F0156702B5E712B722B732146013421</span> <span class="n">C7</span>
<span class="p">:</span> <span class="mi">00</span> <span class="mi">0000</span> <span class="mi">01</span> <span class="n">FF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="binary-file">
<h4><a class="toc-backref" href="#id14">Binary-File</a><a class="headerlink" href="#binary-file" title="Permalink to this headline">¶</a></h4>
<p>An ASCII text file (with the extension <code class="docutils literal notranslate"><span class="pre">.bin</span></code>) that specifies the initial content of a memory block (CAM, RAM, or ROM), that is, the initial values for each address.
This is the initialisation file used in the BRAM-VHDL examples. The file location has to be given in the generic called <code class="docutils literal notranslate"><span class="pre">initFile</span></code>.
The file is witten in ASCII-binary format and one line has to be one line of the BRAM with the exact number of databits. Also each BRAM address has to be initialised in this file.</p>
<p>An example of an 16 databit and 3 addressbit RAM</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0000000000000000</span>
<span class="mi">0000000000000001</span>
<span class="mi">0000000000000010</span>
<span class="mi">0000000000000011</span>
<span class="mi">0000000000000100</span>
<span class="mi">0000000000000101</span>
<span class="mi">0000000000000110</span>
<span class="mi">0000000000000111</span>
</pre></div>
</div>
</div>
<div class="section" id="in-vhdl">
<h4><a class="toc-backref" href="#id15">In VHDL</a><a class="headerlink" href="#in-vhdl" title="Permalink to this headline">¶</a></h4>
<p>In order to initialise the BRAM you can also edit the VHDL code directly and initialise your Memory signal.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span>  <span class="k">signal</span> <span class="n">ROM</span> <span class="o">:</span> <span class="n">rom_type</span> <span class="o">:=</span> <span class="p">(</span><span class="mh">X&quot;0200A&quot;</span><span class="p">,</span><span class="mh">X&quot;00300&quot;</span><span class="p">,</span><span class="mh">X&quot;08101&quot;</span><span class="p">,</span><span class="mh">X&quot;04000&quot;</span><span class="p">,</span><span class="mh">X&quot;08601&quot;</span><span class="p">,</span><span class="mh">X&quot;0233A&quot;</span><span class="p">,</span>
                            <span class="mh">X&quot;00300&quot;</span><span class="p">,</span><span class="mh">X&quot;08602&quot;</span><span class="p">,</span><span class="mh">X&quot;02310&quot;</span><span class="p">,</span><span class="mh">X&quot;0203B&quot;</span><span class="p">,</span><span class="mh">X&quot;08300&quot;</span><span class="p">,</span><span class="mh">X&quot;04002&quot;</span><span class="p">,</span>
                            <span class="mh">X&quot;08201&quot;</span><span class="p">,</span><span class="mh">X&quot;00500&quot;</span><span class="p">,</span><span class="mh">X&quot;04001&quot;</span><span class="p">,</span><span class="mh">X&quot;02500&quot;</span><span class="p">,</span><span class="mh">X&quot;00340&quot;</span><span class="p">,</span><span class="mh">X&quot;00241&quot;</span><span class="p">,</span>
                            <span class="mh">X&quot;04002&quot;</span><span class="p">,</span><span class="mh">X&quot;08300&quot;</span><span class="p">,</span><span class="mh">X&quot;08201&quot;</span><span class="p">,</span><span class="mh">X&quot;00500&quot;</span><span class="p">,</span><span class="mh">X&quot;08101&quot;</span><span class="p">,</span><span class="mh">X&quot;00602&quot;</span><span class="p">,</span>
                            <span class="mh">X&quot;04003&quot;</span><span class="p">,</span><span class="mh">X&quot;0241E&quot;</span><span class="p">,</span><span class="mh">X&quot;00301&quot;</span><span class="p">,</span><span class="mh">X&quot;00102&quot;</span><span class="p">,</span><span class="mh">X&quot;02122&quot;</span><span class="p">,</span><span class="mh">X&quot;02021&quot;</span><span class="p">,</span>
                            <span class="mh">X&quot;00301&quot;</span><span class="p">,</span><span class="mh">X&quot;00102&quot;</span><span class="p">,</span><span class="mh">X&quot;02222&quot;</span><span class="p">,</span><span class="mh">X&quot;04001&quot;</span><span class="p">,</span><span class="mh">X&quot;00342&quot;</span><span class="p">,</span><span class="mh">X&quot;0232B&quot;</span><span class="p">,</span>
                            <span class="mh">X&quot;00900&quot;</span><span class="p">,</span><span class="mh">X&quot;00302&quot;</span><span class="p">,</span><span class="mh">X&quot;00102&quot;</span><span class="p">,</span><span class="mh">X&quot;04002&quot;</span><span class="p">,</span><span class="mh">X&quot;00900&quot;</span><span class="p">,</span><span class="mh">X&quot;08201&quot;</span><span class="p">,</span>
                            <span class="mh">X&quot;02023&quot;</span><span class="p">,</span><span class="mh">X&quot;00303&quot;</span><span class="p">,</span><span class="mh">X&quot;02433&quot;</span><span class="p">,</span><span class="mh">X&quot;00301&quot;</span><span class="p">,</span><span class="mh">X&quot;04004&quot;</span><span class="p">,</span><span class="mh">X&quot;00301&quot;</span><span class="p">,</span>
                            <span class="mh">X&quot;00102&quot;</span><span class="p">,</span><span class="mh">X&quot;02137&quot;</span><span class="p">,</span><span class="mh">X&quot;02036&quot;</span><span class="p">,</span><span class="mh">X&quot;00301&quot;</span><span class="p">,</span><span class="mh">X&quot;00102&quot;</span><span class="p">,</span><span class="mh">X&quot;02237&quot;</span><span class="p">,</span>
                            <span class="mh">X&quot;04004&quot;</span><span class="p">,</span><span class="mh">X&quot;00304&quot;</span><span class="p">,</span><span class="mh">X&quot;04040&quot;</span><span class="p">,</span><span class="mh">X&quot;02500&quot;</span><span class="p">,</span><span class="mh">X&quot;02500&quot;</span><span class="p">,</span><span class="mh">X&quot;02500&quot;</span><span class="p">,</span>
                            <span class="mh">X&quot;0030D&quot;</span><span class="p">,</span><span class="mh">X&quot;02341&quot;</span><span class="p">,</span><span class="mh">X&quot;08201&quot;</span><span class="p">,</span><span class="mh">X&quot;0400D&quot;</span><span class="p">);</span>


<span class="n">Restrictions</span>
</pre></div>
</div>
<p>There are cetain restriction if you write BRAM’s in VHDL</p>
</div>
<div class="section" id="syntesis-tool-limitation">
<h4><a class="toc-backref" href="#id16">Syntesis Tool limitation</a><a class="headerlink" href="#syntesis-tool-limitation" title="Permalink to this headline">¶</a></h4>
<p>The VHDL Code for creating BRAM is read and understood by the synthesis tool. The mentioned code was tested in Xilinx XST Syntesis Tool. It has to be verified for other Synthesis tools like Simplify or Leonardo. The following limitaions are due the use of Xilinx XST.</p>
<div class="section" id="port-limitation">
<h5><a class="toc-backref" href="#id17">Port limitation</a><a class="headerlink" href="#port-limitation" title="Permalink to this headline">¶</a></h5>
<p>The BRAM’s defined in VHDL can have multiple Read ports, but only ONE Write port.</p>
</div>
<div class="section" id="initialisation-limitation">
<h5><a class="toc-backref" href="#id18">Initialisation limitation</a><a class="headerlink" href="#initialisation-limitation" title="Permalink to this headline">¶</a></h5>
<p>The BRAM can <strong>only</strong> with the described Binary file format be initialised. The Synthesis tools doesn’t support read and parsing files. Therefore a hex or mif file format can not be used.</p>
</div>
</div>
</div>
</div>
<div class="section" id="debounce">
<h2><a class="toc-backref" href="#id19">Debounce</a><a class="headerlink" href="#debounce" title="Permalink to this headline">¶</a></h2>
<p>Each button can bounce while pushing or releasing. This can’t completely eliminated. but to avoid button bouncing. The following two thing can be done.</p>
<ul class="simple">
<li><p>Buy high quality buttons</p></li>
<li><p>Implement a button debouncing</p></li>
</ul>
<p>Settings
First the max bounce time should be measured and according to that value and your used clock, the counterBitNb can be choosen accordingly.
The following implementation has two different modes. Mode 0 is reactive on rising edge and mode 1 is reactive on falling edge.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Mode</span> <span class="mi">0</span>
             <span class="n">_</span>   <span class="n">_</span>   <span class="n">____________________</span>   <span class="n">_</span>   <span class="n">_</span>
 <span class="nb">input</span>  <span class="n">____</span><span class="o">/</span> \ <span class="o">/</span> \ <span class="o">/</span>                    \<span class="n">_</span><span class="o">/</span> \ <span class="o">/</span> \<span class="n">______</span>
             <span class="n">_________________________________________</span>
 <span class="n">output</span> <span class="n">____</span><span class="o">/</span>                                         \<span class="n">_</span>

<span class="n">Mode</span> <span class="mi">1</span>
             <span class="n">_</span>   <span class="n">_</span>   <span class="n">____________________</span>   <span class="n">_</span>   <span class="n">_</span>
 <span class="nb">input</span>  <span class="n">____</span><span class="o">/</span> \ <span class="o">/</span> \ <span class="o">/</span>                    \<span class="n">_</span><span class="o">/</span> \ <span class="o">/</span> \<span class="n">______</span>
                          <span class="n">_______________</span>
 <span class="n">output</span> <span class="n">_________________</span><span class="o">/</span>               \<span class="n">______________</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://github.com/tschinz/config/tree/master/scripts/vhdl/debounce">config repo debounce</a></p>
</div>
</div>
<div class="section" id="reset-input">
<h2><a class="toc-backref" href="#id20">Reset Input</a><a class="headerlink" href="#reset-input" title="Permalink to this headline">¶</a></h2>
<p>For having a stable system first you need a proper reset. Just using an input as reset isn’t enough. Here’s how to poperly synchronize your reset.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>--pad_rst----+----------+----------+
          +--+--+    +--+--+    +--+--+    +-.
--&#39;1&#39;-----|D   Q|----|D   Q|----|D   Q|----|  &gt;O-----rst
          |     |    |     |    |     |    +-´
       +--|&gt;    | +--|&gt;    | +--|&gt;    |
       |  +-----+ |  +-----+ |  +-----+
--clk--+----------+----------+
</pre></div>
</div>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">blink</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">LIBRARY</span> <span class="nn">ieee</span><span class="p">;</span>
  <span class="k">USE</span> <span class="nn">ieee.std_logic_1164.</span><span class="k">all</span><span class="p">;</span>
  <span class="k">USE</span> <span class="nn">ieee.numeric_std.</span><span class="k">all</span><span class="p">;</span>

<span class="k">ENTITY</span> <span class="nc">rst_synchronizer</span> <span class="k">IS</span>
   <span class="k">PORT</span><span class="p">(</span> <span class="n">pad_rst_n</span> <span class="o">:</span> <span class="k">IN</span>     <span class="kt">std_logic</span><span class="p">;</span>
         <span class="n">clock</span>     <span class="o">:</span> <span class="k">IN</span>     <span class="kt">std_ulogic</span><span class="p">;</span>
         <span class="n">reset</span>     <span class="o">:</span> <span class="k">OUT</span>    <span class="kt">std_ulogic</span>
   <span class="p">);</span>
<span class="k">END</span> <span class="nc">rst_synchronizer</span> <span class="p">;</span>

<span class="k">ARCHITECTURE</span> <span class="nc">rtl</span> <span class="k">OF</span> <span class="nc">rst_synchronizer</span> <span class="k">IS</span>

  <span class="k">signal</span> <span class="n">lvec_rst_n</span> <span class="o">:</span> <span class="kt">std_ulogic_vector</span><span class="p">(</span><span class="mi">2</span> <span class="k">downto</span> <span class="mi">0</span><span class="p">);</span>

<span class="k">BEGIN</span>

  <span class="k">process</span><span class="p">(</span><span class="n">pad_rst_n</span> <span class="p">,</span> <span class="n">clock</span><span class="p">)</span>
  <span class="k">begin</span>
    <span class="k">if</span> <span class="n">pad_rst_n</span> <span class="o">=</span> <span class="sc">&#39;1&#39;</span> <span class="k">then</span>
      <span class="n">lvec_rst_n</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="k">others</span> <span class="o">=&gt;</span> <span class="sc">&#39;0&#39;</span><span class="p">);</span>
    <span class="k">elsif</span> <span class="n">rising_edge</span><span class="p">(</span><span class="n">clock</span><span class="p">)</span> <span class="k">then</span>
      <span class="n">lvec_rst_n</span> <span class="o">&lt;=</span> <span class="n">lvec_rst_n</span><span class="p">(</span><span class="mi">1</span> <span class="k">downto</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="sc">&#39;1&#39;</span><span class="p">;</span>
    <span class="k">end</span> <span class="k">if</span><span class="p">;</span>
  <span class="k">end</span> <span class="k">process</span><span class="p">;</span>
  <span class="n">rst</span> <span class="o">&lt;=</span> <span class="k">not</span> <span class="n">lvec_rst_n</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="k">END</span> <span class="k">ARCHITECTURE</span> <span class="nc">rtl</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
</div>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="file.html" class="btn btn-neutral float-right" title="File" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="conversion.html" class="btn btn-neutral float-left" title="Conversion" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020 tschinz

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>